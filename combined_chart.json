{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "params": [
        {
            "name": "State_selection",
            "value": "Adelaide",
            "bind": {
                "input": "select",
                "options": [
                    "Adelaide",
                    "Alice Springs",
                    "Brisbane",
                    "Canberra",
                    "Darwin",
                    "Hobart",
                    "Melbourne",
                    "Perth",
                    "Broome",
                    "Sydney",
                    "Townsville",
                    "Cairns"
                ],
                "labels": [
                    "Adelaide",
                    "Alice Springs",
                    "Brisbane",
                    "Canberra",
                    "Darwin",
                    "Hobart",
                    "Melbourne",
                    "Perth",
                    "Broome",
                    "Sydney",
                    "Townsville",
                    "Cairns"
                ],
                "name": "State Selection: "
            }
        }
    ],
    "columns": 2,
    "background": "#4a4b4d",
    
        "title": {
            "text": "Capital Cities Rainfall in Year 2023",
            "font": "Verdana",
            "color": "white",
            "fontSize": 15,
            "anchor": "middle",
            "fontWeight": "bold"
        },
    "concat": [
        {
            "width": 300,
            "height": 300,
            "data": {
                "url": "datasets/aus_rainfall.csv",
                "format": {
                    "type": "csv"
                }
            },
            "transform": [
                {
                    "fold": [
                        "JAN",
                        "FEB",
                        "MAR",
                        "APR",
                        "MAY",
                        "JUN",
                        "JUL",
                        "AUG",
                        "SEP",
                        "OCT",
                        "NOV",
                        "DEC"
                    ],
                    "as": [
                        "Month",
                        "MonthVal"
                    ]
                },
                {
                    "filter": "datum.LOCATION == State_selection"
                }
            ],
            "mark": "area",
            "encoding": {
                "x": {
                    "field": "Month",
                    "type": "ordinal",
                    "title": null,
                    "sort": [
                        "JAN",
                        "FEB",
                        "MAR",
                        "APR",
                        "MAY",
                        "JUN",
                        "JUL",
                        "AUG",
                        "SEP",
                        "OCT",
                        "NOV",
                        "DEC"
                    ],
                    "axis": {
                        "offset": 5,
                        "ticks": true,
                        "minExtent": 70,
                        "domain": true,
                        "domainColor": "white",
                        "tickColor": "white",
                        "labelColor": "white"
                    }
                },
                "y": {
                    "field": "MonthVal",
                    "type": "quantitative",
                    "title": "Rainfall",
                    "axis": {
                        "domain": true,
                        "domainColor": "white",
                        "ticks": true,
                        "tickColor": "white",
                        "labelColor": "white",
                        "titleColor": "white"
                    }
                },
                "color": {
                    "field": "LOCATION",
                    "type": "nominal",
                    "scale": {
                        "domain": [
                            "Adelaide",
                            "Alice Springs",
                            "Brisbane",
                            "Canberra",
                            "Darwin",
                            "Hobart",
                            "Melbourne",
                            "Perth",
                            "Broome",
                            "Sydney",
                            "Townsville",
                            "Cairns"
                        ],
                        "range": [
                            "#1f77b4",
                            "#ff7f0e",
                            "#2ca02c",
                            "#d62728",
                            "#9467bd",
                            "#8c564b",
                            "#e377c2",
                            "#7f7f7f",
                            "#bcbd22",
                            "#17becf",
                            "#ffbb78",
                            "#98df8a"
                        ]
                    },
                    "legend": {
                        "labelFont": "Monaco",
                        "labelFontSize": 12,
                        "labelColor": "white",
                        "titleFont": "Monaco",
                        "titleFontSize": 14,
                        "titleColor": "white",
                        "orient": "left",
                        "labelLimit": 500
                    }
                }
            }
        },
        { "width": 300,
        "height": 300,
        "data": {
          "url": "datasets/aus_rainfall.csv"
        },
        "encoding": {
          "theta": {
            "field": "ANNUAL",
            "type": "quantitative"
          },
          "color": {
            "field": "LOCATION",
            "type": "nominal",
            "legend": null,
            "scale": {
              "domain": [
                "Adelaide",
                "Alice Springs",
                "Brisbane",
                "Canberra",
                "Darwin",
                "Hobart",
                "Melbourne",
                "Perth",
                "Broome",
                "Sydney",
                "Townsville",
                "Cairns"
              ],
              "range": [
                "#1f77b4",
                "#ff7f0e",
                "#2ca02c",
                "#d62728",
                "#9467bd",
                "#8c564b",
                "#e377c2",
                "#7f7f7f",
                "#bcbd22",
                "#17becf",
                "#ffbb78",
                "#98df8a"
              ]
            }
          },
      "opacity": {
        "condition": {
          "test": "datum.LOCATION === State_selection",
          "value": 1  
        },
        "value": 0.3  
      }
      ,
          "tooltip": [ 
            {"field": "LOCATION", "title": "Location"},
            {"field": "ANNUAL", "title": "Annual Rainfall"}
          ]
        },
        "mark": {
          "type": "arc",
          "innerRadius": 70,
          "stroke": "#fff"
        }
      }
      ,
        {
            "title": {
                "text": "Capital Cities Minimum and Maximum Temperature",
                "font": "Verdana",
                "color": "white",
                "fontSize": 15,
                "anchor": "middle",
                "fontWeight": "bold"
            },
            "width": 400,
            "height": 400,
            "data": {
                "url": "datasets/aus_min_max_temp.csv"
            },
            "transform": [
                {
                    "fold": [
                        "JAN",
                        "FEB",
                        "MAR",
                        "APR",
                        "MAY",
                        "JUN",
                        "JUL",
                        "AUG",
                        "SEP",
                        "OCT",
                        "NOV",
                        "DEC"
                    ],
                    "as": [
                        "Month",
                        "MonthVAl"
                    ]
                },
                {
                    "filter": {
                        "field": "TYPE",
                        "oneOf": [
                            "min",
                            "max"
                        ]
                    }
                },
                {
                    "filter": "datum.LOCATION == State_selection"
                }
            ],
            "encoding": {
                "x": {
                    "field": "Month",
                    "type": "nominal",
                    "title": null,
                    "sort": [
                        "JAN",
                        "FEB",
                        "MAR",
                        "APR",
                        "MAY",
                        "JUN",
                        "JUL",
                        "AUG",
                        "SEP",
                        "OCT",
                        "NOV",
                        "DEC"
                    ],
                    "axis": {
                        "offset": 5,
                        "ticks": true,
                        "minExtent": 70,
                        "domain": true,
                        "domainColor": "white",
                        "tickColor": "white",
                        "labelColor": "white"
                    }
                },
                "y": {
                    "field": "MonthVAl",
                    "type": "quantitative",
                    "title": "Temperature values ",
                    "axis": {
                        "domain": true,
                        "domainColor": "white",
                        "ticks": true,
                        "tickColor": "white",
                        "labelColor": "white",
                        "titleColor": "white"
                    }
                }
            },
            "layer": [
                {
                    "mark": "line",
                    "encoding": {
                        "detail": {
                            "field": "Month",
                            "type": "nominal"
                        },
                        "color": {
                            "value": "#db646f"
                        }
                    }
                },
                {
                    "selection": {
                        "type_highlight": {
                            "type": "multi",
                            "fields": [
                                "TYPE"
                            ],
                            "bind": "legend"
                        }
                    },
                    "mark": {
                        "type": "point",
                        "filled": true
                    },
                    "encoding": {
                        "color": {
                            "field": "TYPE",
                            "type": "ordinal",
                            "scale": {
                                "domain": [
                                    "min",
                                    "max"
                                ],
                                "range": [
                                    "#e6959c",
                                    "#911a24"
                                ]
                            },
                            "title": "type",
                            "legend": {
                                "labelFont": "Monaco",
                                "labelFontSize": 12,
                                "labelColor": "white",
                                "titleFont": "Monaco",
                                "titleFontSize": 14,
                                "titleColor": "white",
                                "orient": "left",
                                "labelLimit": 500
                            }
                        },
                        "size": {
                            "value": 100
                        },
                        "opacity": {
                            "condition": {
                                "selection": "type_highlight",
                                "value": 1
                            },
                            "value": 0.2
                        },
                        "tooltip": [
                            {
                                "field": "Month",
                                "type": "nominal",
                                "title": "Month"
                            },
                            {
                                "field": "MonthVAl",
                                "type": "quantitative",
                                "title": "Temperature"
                            }
                        ]
                    }
                }
            ]
        }
    ],
    "resolve": {
        "scale": {
            "color": "independent"
        }
    }
}